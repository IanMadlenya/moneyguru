Плагины
=======

Начиная с версии 2.5 функционал moneyGuru можно расширять за счет использования плагинов.
Плагины - это исходные файлы на языке Python 3, находящиеся в папке плагинов (ее расположение
зависит от конкретной системы, но вы можете ее открыть через меню "Файл --> Открыть папку с плагинами").
Когда moneyGuru загружается, она ищет плагины в этой папке и находя их, добавляет каждый плагин в список,
который можно увидеть при открытии новой вкладки. Чтобы открыть плагин, просто кликните по его названию
два раз и он откроется.

Чтобы установить плагин, возьмите файл на языке Python (файл с расширением ``.py``), положите в папку с плагинами
и перезапустите moneyGuru.

**Внимание.** Плагины moneyGuru не безопасны! Это означает, что они могут содержать опасный код. 
Устанавливайте плагины только из доверенных источников или только после самостотельного прочтения исходного кода.

Ограничения
-----------

Во-первых, так как плагины недавно появились, они пока имеют некоторые ограничения.
Плагины имеют доступ только к одной таблице в режиме "только чтение". Данные в этой таблице -
не "живые" данные и не обновляются при изменении в каком-либо документе, поэтому чтобы
обновить показания нужного плагина, закройте вкладку и откройте ее снова.

Но несмотря на такие ограничения, у плагина есть большие возможности, особенно это касается отчетов.
Печать, сортировка, копирование-вставка из/в CSV (выборка рядов,копирование данных и последующая
вставка их в Excel/Numbers) работает с этими таблицами.

Создание плагина
-----------------

Кроме :mod:`небольшого API <core.plugin>`, нет специального API плагинов, вы программируете
прямо поверх кода moneyGuru. Документация для разработчика, к сожалению, пока не столь обширная,
но я создал хорошо прокомментированный пример плагина и я думаю, что это будет отличной 
отправной точкой для вас.

Итак, чтобы создать плагин, предлагаю вам взять один из примеров (они уже есть в папке с плагинами. 
Также вы можете найти последние версии этих примеров `на Github <https://github.com/hsoft/moneyguru/tree/master/plugin_examples>`__), 
скопируйте их и попробуйте разобраться в коде с помощью комментариев. Также есть
:doc:`документация разработчика <developer/index>` но она далека от завершения.
Загляните также в `исходный код moneyGuru <https://github.com/hsoft/moneyguru>`_ - это очень хороший путь
понять работу программу, хотя это, возможно, будет нелегко.

Я очень заинтересован в том, чтобы вы хорошо понимали как разработать плагин, так что не стесняйтесь
`написать мне <mailto:hsoft@hardcoded.net>`_ если будет нужна помощь в написании плагина.
